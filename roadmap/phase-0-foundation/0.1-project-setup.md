# Feature 0.1: Project Setup & Tooling

## Metadata
| Field | Value |
|-------|-------|
| **Feature ID** | 0.1 |
| **Phase** | 0 - Foundation |
| **Priority** | Critical |
| **Estimated Effort** | 4-6 hours |
| **Dependencies** | None (First feature) |
| **Approval** | [ ] |
| **Status** | Not Started |

---

## Overview

Initialize the Busidom project with proper structure, package management, TypeScript configuration, linting, and development tooling.

## User Story

As a **developer**, I want a **properly configured project structure** so that **I can develop features efficiently with type safety and code quality tools**.

---

## Requirements

### Functional Requirements
1. Initialize Node.js project with package.json
2. Configure TypeScript with strict mode
3. Set up ESLint with recommended rules
4. Configure Prettier for code formatting
5. Create folder structure following clean architecture
6. Add npm scripts for dev, build, test, lint

### Non-Functional Requirements
- Node.js >= 18.0.0
- TypeScript >= 5.0
- Build time < 10 seconds
- Hot reload in development

---

## Technical Specification

### Folder Structure
```
busidom/
├── src/
│   ├── index.ts              # Entry point
│   ├── cli/                   # CLI interface
│   ├── core/                  # Business logic
│   │   ├── chat/
│   │   ├── memory/
│   │   └── agents/
│   ├── infrastructure/        # External services
│   │   ├── llm/
│   │   ├── database/
│   │   └── storage/
│   ├── config/                # Configuration
│   └── types/                 # TypeScript types
├── tests/
│   ├── unit/
│   └── integration/
├── .github/
│   └── ISSUE_TEMPLATE/
├── package.json
├── tsconfig.json
├── .eslintrc.js
├── .prettierrc
└── README.md
```

### Package.json Scripts
```json
{
  "scripts": {
    "dev": "tsx watch src/index.ts",
    "build": "tsc",
    "start": "node dist/index.js",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "lint": "eslint src --ext .ts",
    "lint:fix": "eslint src --ext .ts --fix",
    "format": "prettier --write src/**/*.ts",
    "typecheck": "tsc --noEmit"
  }
}
```

### Key Dependencies
```json
{
  "dependencies": {
    "openai": "^4.0.0",
    "dotenv": "^16.0.0",
    "zod": "^3.22.0"
  },
  "devDependencies": {
    "typescript": "^5.3.0",
    "tsx": "^4.0.0",
    "vitest": "^1.0.0",
    "@types/node": "^20.0.0",
    "eslint": "^8.50.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "prettier": "^3.0.0"
  }
}
```

### TypeScript Config
```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "NodeNext",
    "moduleResolution": "NodeNext",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "outDir": "./dist",
    "rootDir": "./src",
    "declaration": true,
    "resolveJsonModule": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

---

## Tasks Breakdown

| Task | Description | Estimate |
|------|-------------|----------|
| 0.1.1 | Initialize npm project and create package.json | 30 min |
| 0.1.2 | Configure TypeScript (tsconfig.json) | 30 min |
| 0.1.3 | Set up ESLint with TypeScript rules | 30 min |
| 0.1.4 | Configure Prettier | 15 min |
| 0.1.5 | Create folder structure | 30 min |
| 0.1.6 | Add development dependencies | 30 min |
| 0.1.7 | Create npm scripts | 30 min |
| 0.1.8 | Add .gitignore and .env.example | 15 min |
| 0.1.9 | Verify build and lint pass | 30 min |

---

## Acceptance Criteria

- [ ] `npm install` succeeds without errors
- [ ] `npm run build` compiles TypeScript to dist/
- [ ] `npm run lint` runs without errors
- [ ] `npm run test` executes (even with no tests)
- [ ] `npm run dev` starts with hot reload
- [ ] Folder structure matches specification
- [ ] TypeScript strict mode enabled
- [ ] ESLint catches type errors

---

## Environment Variables

```env
# .env.example
NODE_ENV=development
LOG_LEVEL=debug

# LLM Configuration
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Alternative: Kimi
KIMI_API_KEY=
KIMI_API_BASE=https://api.moonshot.ai/v1
```

---

## Risks & Mitigations

| Risk | Impact | Mitigation |
|------|--------|------------|
| Dependency conflicts | Medium | Use exact versions, lock file |
| TypeScript config issues | Low | Start with recommended config |

---

## Definition of Done

- [ ] All tasks completed
- [ ] All acceptance criteria met
- [ ] PR reviewed and merged
- [ ] No lint errors
- [ ] Build succeeds

